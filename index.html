<h1>hÆ°á»›ng dáº«n cÃ¡c lá»‡nh script trong package.json</h1>

<ul>
  <li>run Ä‘á»“ng thá»i client vÃ  server trong package.json</li>
  <li>///////////////////////////////////</li>
  <li>táº¡o npm init trong client vÃ  server vÃ  nasa-project</li>
  <li>thiáº¿t láº­p port cho package.json trong server</li>
  <li>
    <pre>
      "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1",
        "start": "set PORT=5000&& node src/server.js",
        "watch": "set PORT=5000&& nodemon src/server.js"
      },
    </pre>
  </li>
  <li>
    <pre>
      npm run watch // npm start // npm run start
    </pre>
  </li>
  <li>cháº¡y npm start trong client Ä‘á»ƒ check</li>
  <li>.............</li>
  <li>thiáº¿t láº­p cháº¡y npm run client vÃ  npm run server trong nasa-project</li>
  <li>
    <pre>
      "scripts": {
        "server": "npm run watch --prefix server",
        "client": "npm start --prefix client",
        "test": "echo \"Error: no test specified\" && exit 1"
      },
    </pre>
  </li>
  <li>
    <pre>
      npm run server // náº¿u muá»‘n cháº¡y server 
      npm run client náº¿u muá»‘n cháº¡y client
    </pre>
  </li>
  <li>.............</li>
  <li>cÃ i npm i -g concurrently // Ä‘á»ƒ cháº¡y Ä‘á»“ng thá»i 2 cÃ¡i</li>
  <li>trong package.json á»Ÿ nasa-project thiáº¿t láº­p nhÆ° sau</li>
  <li>
    <pre>
      "scripts": {
        "server": "npm run watch --prefix server",
        "client": "npm start --prefix client",
        "watch": "concurrently \"npm run server\" \"npm run client\"",
        "test": "echo \"Error: no test specified\" && exit 1"
      },
    </pre>
  </li>
  <li>npm run watch // lÃ  sáº½ cháº¡y Ä‘á»“ng thá»i 2 cÃ¡i</li>
  <li>///////////////////////////////////</li>
  <li>
    khÃ´ng nÃªn á»©ng dá»¥ng nhÆ° váº­y lÃ m install cho client vÃ  server trong
    package.json trong nasa-project// vÃ¬ nÃ³ khÃ´ng worked
  </li>

  <li>//////////////////////////////////////</li>
  <li>build production vÃ  chuyÃªn sang folder public cá»§a server</li>
  <li>Ä‘áº§u tiÃªn thiáº¿t láº­p public trong server</li>
  <li>
    <pre>
      import path from "path";
      import { fileURLToPath } from "url";

      // fix __dirname trong es6;
      const __filename = fileURLToPath(import.meta.url);
      // ğŸ‘‡ï¸ "/home/john/Desktop/javascript"
      const __dirname = path.dirname(__filename);

      app.use(express.static(path.join(__dirname, "..", "public")));
      app.get("/", (req, res) => {
        res.sendFile(path.join(__dirname, "..", "public", "index.html"));
      });
    </pre>
    má»¥c Ä‘Ã­ch lÃ  táº¡o route, náº¿u khÃ´ng sáº½ khÃ´ng truy cáº­p Ä‘Æ°á»£c, vÃ  cÃ¡c route cá»§a
    react, chá»‰ cháº¡y trong nÃ y
  </li>
  <li>trong client package</li>
  <li>
    <pre>
      "scripts": {
        "start": "react-scripts start",
        "build": "set BUILD_PATH=../server/public&& react-scripts build",
        "test": "react-scripts test --passWithNoTests",
        "eject": "react-scripts eject"
      },
    </pre>
    chÃº Ã½ lÃ  khÃ´ng cÃ³ dáº¥u cÃ¡ch
  </li>
  <li>sau Ä‘Ã³ trong client run</li>
  <li>
    <pre>
    npm run build
  </pre
    >
    Ä‘á»ƒ kiá»ƒm tra cÃ³ run Ä‘Æ°á»£c hay chÆ°a
  </li>
  <li>sau Ä‘Ã³ vÃ o server chá»‰ cáº§n cháº¡y</li>
  <li>
    <pre>
      npm run watch lÃ  Ä‘Æ°á»£c
    </pre>
  </li>
  <li>///////////////////////////////////////////////</li>
  <li>vá»«a run build trong react, vá»«a cháº¡y server</li>
  <li>
    <pre>
      "scripts": {
        "server": "npm run watch --prefix server",
        "client": "npm start --prefix client",
        "watch": "concurrently \"npm run server\" \"npm run client\"",
        "deploy": "npm run build --prefix client && npm run server",
        "test": "echo \"Error: no test specified\" && exit 1"
      },
    </pre>
    npm run deploy
  </li>
</ul>
